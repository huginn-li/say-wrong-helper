{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/44181/Downloads/PARA%E7%B3%BB%E7%BB%9F%E4%BB%93%E5%BA%93/B.%E9%A1%B9%E7%9B%AE/sensitive-kimi/my-app/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Heart, MessageCircle, Brain, ArrowRight, RotateCcw, Share2, Sparkles } from \"lucide-react\";\r\nimport html2canvas from \"html2canvas\";\r\n\r\n// 问卷步骤类型\r\ntype Step = 0 | 1 | 2 | 3 | 4;\r\n\r\n// 用户输入数据\r\ninterface UserInput {\r\n  target: string;\r\n  targetLabel: string;\r\n  scene: string;\r\n  sceneLabel: string;\r\n  whatWasSaid: string;\r\n  fears: string[];\r\n  severity: number;\r\n}\r\n\r\n// AI响应\r\ninterface AIResponse {\r\n  comfort: string;\r\n  话术: string;\r\n  重构: string;\r\n}\r\n\r\n// 等待时的滚动安慰语\r\nconst WAITING_MESSAGES = [\r\n  \"深呼吸，一切都会过去的...\",\r\n  \"你知道吗？80%的尴尬时刻对方根本记不住\",\r\n  \"嘴瓢是人类的出厂设置，别责怪自己\",\r\n  \"此刻的焦虑，24小时后就会淡很多\",\r\n  \"对方可能正忙着想自己的事呢\",\r\n  \"真正的关系经得起一句说错的话\",\r\n  \"你已经在反思了，这说明你很在意\",\r\n  \"很多人都有过类似的经历\",\r\n  \"尴尬的感觉不会一直持续的\",\r\n  \"试着对自己温柔一点...\",\r\n  \"这句话不会定义你的全部\",\r\n  \"明天醒来，这事可能就很小了\",\r\n  \"你的价值不取决于这一句话\",\r\n  \"给自己一点时间和空间\",\r\n  \"焦虑是暂时的，会过去的\",\r\n];\r\n\r\nexport default function Home() {\r\n  const [step, setStep] = useState<Step>(0);\r\n  const [input, setInput] = useState<UserInput>({\r\n    target: \"\",\r\n    targetLabel: \"\",\r\n    scene: \"\",\r\n    sceneLabel: \"\",\r\n    whatWasSaid: \"\",\r\n    fears: [],\r\n    severity: 3,\r\n  });\r\n  const [result, setResult] = useState<AIResponse | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  \r\n  // 等待动画相关\r\n  const [currentMessageIndex, setCurrentMessageIndex] = useState(0);\r\n  const [showWaitingMessage, setShowWaitingMessage] = useState(false);\r\n\r\n  // 等待时的字幕滚动效果\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      setShowWaitingMessage(false);\r\n      return;\r\n    }\r\n    \r\n    setShowWaitingMessage(true);\r\n    const interval = setInterval(() => {\r\n      setCurrentMessageIndex((prev) => (prev + 1) % WAITING_MESSAGES.length);\r\n    }, 3000); // 每3秒换一条\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [isLoading]);\r\n\r\n  const handleNext = async () => {\r\n    if (step < 3) {\r\n      setStep((prev) => (prev + 1) as Step);\r\n    } else {\r\n      // 最后一步：调用 AI\r\n      setIsLoading(true);\r\n      setError(null);\r\n      setCurrentMessageIndex(0);\r\n      \r\n      try {\r\n        const response = await fetch('/api/generate', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            targetLabel: input.targetLabel,\r\n            sceneLabel: input.sceneLabel,\r\n            whatWasSaid: input.whatWasSaid,\r\n            fears: input.fears,\r\n            severity: input.severity,\r\n          }),\r\n        });\r\n        \r\n        const data = await response.json();\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(data.error || '请求失败');\r\n        }\r\n        \r\n        setResult(data);\r\n        setStep(4);\r\n      } catch (err: any) {\r\n        console.error('AI Error:', err);\r\n        setError(err.message || '请求失败，请检查网络');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRestart = () => {\r\n    setStep(0);\r\n    setInput({\r\n      target: \"\",\r\n      targetLabel: \"\",\r\n      scene: \"\",\r\n      sceneLabel: \"\",\r\n      whatWasSaid: \"\",\r\n      fears: [],\r\n      severity: 3,\r\n    });\r\n    setResult(null);\r\n    setError(null);\r\n  };\r\n\r\n  const handleShare = async () => {\r\n    const element = document.getElementById(\"result-card\");\r\n    if (element) {\r\n      const canvas = await html2canvas(element);\r\n      const link = document.createElement(\"a\");\r\n      link.download = \"我的安慰卡片.png\";\r\n      link.href = canvas.toDataURL();\r\n      link.click();\r\n    }\r\n  };\r\n\r\n  // 步骤1：选择对象\r\n  const Step1Target = () => (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-xl font-semibold text-stone-800\">这句话是对谁说的？</h2>\r\n      <div className=\"grid grid-cols-2 gap-3\">\r\n        {[\r\n          { id: \"colleague\", label: \"同事\", emoji: \"👔\" },\r\n          { id: \"friend\", label: \"朋友\", emoji: \"🧑‍🤝‍🧑\" },\r\n          { id: \"leader\", label: \"领导\", emoji: \"👨‍💼\" },\r\n          { id: \"family\", label: \"家人\", emoji: \"🏠\" },\r\n          { id: \"stranger\", label: \"陌生人\", emoji: \"🚶\" },\r\n          { id: \"partner\", label: \"伴侣\", emoji: \"💕\" },\r\n        ].map((item) => (\r\n          <button\r\n            key={item.id}\r\n            onClick={() => setInput({ ...input, target: item.id, targetLabel: item.label })}\r\n            className={`p-4 rounded-2xl border-2 transition-all ${\r\n              input.target === item.id\r\n                ? \"border-amber-400 bg-amber-50\"\r\n                : \"border-stone-200 hover:border-amber-200\"\r\n            }`}\r\n          >\r\n            <span className=\"text-2xl\">{item.emoji}</span>\r\n            <p className=\"mt-2 text-stone-700\">{item.label}</p>\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // 步骤2：输入内容\r\n  const Step2Content = () => {\r\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n    const isComposingRef = useRef(false);\r\n    const [charCount, setCharCount] = useState(input.whatWasSaid.length);\r\n\r\n    const updateCharCount = () => {\r\n      const value = textareaRef.current?.value || '';\r\n      setCharCount(value.length);\r\n    };\r\n\r\n    const sceneOptions = [\r\n      { value: \"meeting\", label: \"会议/正式场合\" },\r\n      { value: \"chat\", label: \"闲聊/聚会\" },\r\n      { value: \"wechat\", label: \"微信/线上聊天\" },\r\n      { value: \"work\", label: \"工作协作中\" },\r\n      { value: \"public\", label: \"公开场合\" },\r\n    ];\r\n\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <h2 className=\"text-xl font-semibold text-stone-800\">发生了什么？</h2>\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm text-stone-600 mb-2\">当时是什么场景？</label>\r\n            <select\r\n              value={input.scene}\r\n              onChange={(e) => {\r\n                const option = sceneOptions.find(o => o.value === e.target.value);\r\n                setInput({ ...input, scene: e.target.value, sceneLabel: option?.label || '' });\r\n              }}\r\n              className=\"w-full p-3 rounded-xl border-2 border-stone-200 focus:border-amber-400 outline-none\"\r\n            >\r\n              <option value=\"\">请选择...</option>\r\n              {sceneOptions.map(o => (\r\n                <option key={o.value} value={o.value}>{o.label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm text-stone-600 mb-2\">你说了什么话？（简单描述）</label>\r\n            <textarea\r\n              ref={textareaRef}\r\n              defaultValue={input.whatWasSaid}\r\n              onInput={() => updateCharCount()}\r\n              onChange={(e) => {\r\n                if (!isComposingRef.current) {\r\n                  const value = e.target.value;\r\n                  if (value.length > 100) {\r\n                    e.target.value = value.slice(0, 100);\r\n                    setInput({ ...input, whatWasSaid: value.slice(0, 100) });\r\n                  } else {\r\n                    setInput({ ...input, whatWasSaid: value });\r\n                  }\r\n                  updateCharCount();\r\n                }\r\n              }}\r\n              onCompositionStart={() => { isComposingRef.current = true; }}\r\n              onCompositionEnd={(e) => {\r\n                isComposingRef.current = false;\r\n                const value = e.currentTarget.value;\r\n                if (value.length > 100) {\r\n                  e.currentTarget.value = value.slice(0, 100);\r\n                  setInput({ ...input, whatWasSaid: value.slice(0, 100) });\r\n                } else {\r\n                  setInput({ ...input, whatWasSaid: value });\r\n                }\r\n                updateCharCount();\r\n              }}\r\n              onBlur={(e) => {\r\n                const value = e.target.value;\r\n                if (value !== input.whatWasSaid) {\r\n                  if (value.length > 100) {\r\n                    e.target.value = value.slice(0, 100);\r\n                    setInput({ ...input, whatWasSaid: value.slice(0, 100) });\r\n                  } else {\r\n                    setInput({ ...input, whatWasSaid: value });\r\n                  }\r\n                  updateCharCount();\r\n                }\r\n              }}\r\n              placeholder=\"例如：不小心说错了一个数据...\"\r\n              className=\"w-full p-3 rounded-xl border-2 border-stone-200 focus:border-amber-400 outline-none h-24 resize-none\"\r\n            />\r\n            <p className=\"text-xs text-stone-400 mt-1 text-right\">{charCount}/100</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // 步骤3：恐惧和严重程度\r\n  const Step3Fear = () => (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-xl font-semibold text-stone-800\">你在担心什么？</h2>\r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm text-stone-600 mb-3\">多选：你担心对方觉得你...（可多选）</label>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {[\r\n              \"太冒失/没礼貌\",\r\n              \"能力不行\",\r\n              \"情商低\",\r\n              \"在针对TA\",\r\n              \"不靠谱\",\r\n              \"太较真\",\r\n            ].map((fear) => (\r\n              <button\r\n                key={fear}\r\n                onClick={() => {\r\n                  const newFears = input.fears.includes(fear)\r\n                    ? input.fears.filter((f) => f !== fear)\r\n                    : [...input.fears, fear];\r\n                  setInput({ ...input, fears: newFears });\r\n                }}\r\n                className={`px-4 py-2 rounded-full border-2 transition-all ${\r\n                  input.fears.includes(fear)\r\n                    ? \"border-amber-400 bg-amber-50 text-amber-800\"\r\n                    : \"border-stone-200 text-stone-600 hover:border-amber-200\"\r\n                }`}\r\n              >\r\n                {fear}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm text-stone-600 mb-3\">这种焦虑程度有多严重？</label>\r\n          <div className=\"flex items-center gap-4\">\r\n            <span className=\"text-sm text-stone-400\">还好</span>\r\n            <div className=\"flex gap-2\">\r\n              {[1, 2, 3, 4, 5].map((star) => (\r\n                <button\r\n                  key={star}\r\n                  onClick={() => setInput({ ...input, severity: star })}\r\n                  className={`text-2xl transition-all ${\r\n                    star <= input.severity ? \"text-amber-400\" : \"text-stone-200\"\r\n                  }`}\r\n                >\r\n                  ★\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <span className=\"text-sm text-stone-400\">快崩溃了</span>\r\n          </div>\r\n        </div>\r\n        \r\n        {error && (\r\n          <div className=\"p-3 bg-rose-50 text-rose-600 rounded-lg text-sm\">\r\n            {error}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // 步骤4：结果页\r\n  const Step4Result = () => {\r\n    if (!result) return null;\r\n    \r\n    return (\r\n      <div className=\"space-y-6\">\r\n        {/* 结果卡片 - 优化截图排版 */}\r\n        <div id=\"result-card\" className=\"bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 rounded-3xl p-6 space-y-6 border border-amber-100\">\r\n          {/* 顶部装饰 */}\r\n          <div className=\"text-center pb-4 border-b border-amber-200/50\">\r\n            <span className=\"text-3xl\">🤗</span>\r\n            <p className=\"text-sm text-stone-500 mt-2\">说错话急救包 · 专属安慰</p>\r\n          </div>\r\n          \r\n          {/* 心理安慰 */}\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"w-10 h-10 rounded-full bg-rose-100 flex items-center justify-center flex-shrink-0\">\r\n              <Heart className=\"w-5 h-5 text-rose-500\" />\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"font-semibold text-stone-800 mb-2\">先抱抱你 💝</h3>\r\n              <p className=\"text-stone-600 leading-relaxed text-sm\">{result.comfort}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 话术建议 */}\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0\">\r\n              <MessageCircle className=\"w-5 h-5 text-blue-500\" />\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"font-semibold text-stone-800 mb-2\">如果补救，你可以说 💬</h3>\r\n              <div className=\"bg-white/80 rounded-xl p-4 border border-blue-100\">\r\n                <p className=\"text-stone-700 leading-relaxed font-medium\">{result.话术}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 认知重构 */}\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0\">\r\n              <Brain className=\"w-5 h-5 text-emerald-500\" />\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <h3 className=\"font-semibold text-stone-800 mb-2\">换个角度想 🌱</h3>\r\n              <p className=\"text-stone-600 leading-relaxed text-sm\">{result.重构}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* 底部装饰 */}\r\n          <div className=\"text-center pt-4 border-t border-amber-200/50\">\r\n            <p className=\"text-xs text-stone-400\">一切都会好起来的 ✨</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* 操作按钮 */}\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={handleRestart}\r\n            className=\"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl border-2 border-stone-200 text-stone-600 hover:bg-stone-50 transition-all\"\r\n          >\r\n            <RotateCcw className=\"w-4 h-4\" />\r\n            再试一次\r\n          </button>\r\n          <button\r\n            onClick={handleShare}\r\n            className=\"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl bg-stone-800 text-white hover:bg-stone-700 transition-all\"\r\n          >\r\n            <Share2 className=\"w-4 h-4\" />\r\n            保存卡片\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // 首页\r\n  const HomePage = () => (\r\n    <div className=\"text-center space-y-8 py-8\">\r\n      <div className=\"space-y-4\">\r\n        <div className=\"w-24 h-24 mx-auto bg-gradient-to-br from-amber-200 to-rose-200 rounded-full flex items-center justify-center\">\r\n          <span className=\"text-4xl\">🤗</span>\r\n        </div>\r\n        <h1 className=\"text-2xl font-bold text-stone-800\">说错话急救包</h1>\r\n        <p className=\"text-stone-600 px-4\">\r\n          社交焦虑缓解助手<br />\r\n          帮你把尴尬瞬间变成\"没事啦\"\r\n        </p>\r\n      </div>\r\n      <button\r\n        onClick={() => setStep(1)}\r\n        className=\"inline-flex items-center gap-2 px-8 py-4 bg-stone-800 text-white rounded-2xl hover:bg-stone-700 transition-all\"\r\n      >\r\n        开始\r\n        <ArrowRight className=\"w-5 h-5\" />\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  // 步骤配置\r\n  const steps = [\r\n    { component: HomePage, canProceed: () => true },\r\n    { component: Step1Target, canProceed: () => !!input.target },\r\n    { component: Step2Content, canProceed: () => !!input.scene && !!input.whatWasSaid.trim() },\r\n    { component: Step3Fear, canProceed: () => input.fears.length > 0 },\r\n    { component: Step4Result, canProceed: () => true },\r\n  ];\r\n\r\n  const CurrentStep = steps[step].component;\r\n  const canProceed = steps[step].canProceed();\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-stone-50 py-8 px-4\">\r\n      <div className=\"max-w-md mx-auto\">\r\n        <AnimatePresence mode=\"wait\">\r\n          <motion.div\r\n            key={step}\r\n            initial={{ opacity: 0, x: 20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            exit={{ opacity: 0, x: -20 }}\r\n            transition={{ duration: 0.3 }}\r\n            className=\"bg-white rounded-3xl shadow-sm p-6\"\r\n          >\r\n            <CurrentStep />\r\n          </motion.div>\r\n        </AnimatePresence>\r\n\r\n        {/* 导航按钮 */}\r\n        {step > 0 && step < 4 && (\r\n          <div className=\"mt-6 space-y-4\">\r\n            <div className=\"flex gap-3\">\r\n              {step > 1 && (\r\n                <button\r\n                  onClick={() => setStep((prev) => (prev - 1) as Step)}\r\n                  className=\"px-6 py-3 rounded-xl border-2 border-stone-200 text-stone-600 hover:bg-stone-50 transition-all\"\r\n                >\r\n                  返回\r\n                </button>\r\n              )}\r\n              <button\r\n                onClick={handleNext}\r\n                disabled={!canProceed || isLoading}\r\n                className={`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl transition-all ${\r\n                  canProceed && !isLoading\r\n                    ? \"bg-stone-800 text-white hover:bg-stone-700\"\r\n                    : \"bg-stone-200 text-stone-400 cursor-not-allowed\"\r\n                }`}\r\n              >\r\n                {isLoading ? (\r\n                  <>\r\n                    <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                    生成中...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    {step === 3 ? '生成回复' : '下一步'}\r\n                    <ArrowRight className=\"w-5 h-5\" />\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n            \r\n            {/* 等待时的滚动字幕 */}\r\n            {isLoading && showWaitingMessage && (\r\n              <motion.div \r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"text-center\"\r\n              >\r\n                <div className=\"inline-flex items-center gap-2 px-4 py-3 bg-amber-50 rounded-xl border border-amber-100\">\r\n                  <Sparkles className=\"w-4 h-4 text-amber-500 flex-shrink-0\" />\r\n                  <AnimatePresence mode=\"wait\">\r\n                    <motion.p\r\n                      key={currentMessageIndex}\r\n                      initial={{ opacity: 0, x: 20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      exit={{ opacity: 0, x: -20 }}\r\n                      transition={{ duration: 0.5 }}\r\n                      className=\"text-sm text-amber-700\"\r\n                    >\r\n                      {WAITING_MESSAGES[currentMessageIndex]}\r\n                    </motion.p>\r\n                  </AnimatePresence>\r\n                </div>\r\n                <p className=\"text-xs text-stone-400 mt-2\">正在为你生成专属安慰...</p>\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* 进度指示器 */}\r\n        {step > 0 && step < 4 && (\r\n          <div className=\"mt-6 flex justify-center gap-2\">\r\n            {[1, 2, 3].map((i) => (\r\n              <div\r\n                key={i}\r\n                className={`w-2 h-2 rounded-full transition-all ${\r\n                  i <= step ? \"bg-amber-400 w-6\" : \"bg-stone-200\"\r\n                }`}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}